(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{6698:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/party",function(){return t(3921)}])},3921:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(5893),a=t(7294),s=t(9332),i=t(7747),c=t(4e3),h=t(4271),l=t(6236),x=t(4670),u=t(5422),o=t(1664),j=t.n(o),d=t(5541),f=t(1039),p=t(6324);let y=()=>{let{partyRepository:e}=(0,p.j)(),n=(0,f.useLiveQuery)(()=>e.list(),[]);return(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(j(),{href:{pathname:"/"},children:(0,r.jsx)("a",{children:"戻る"})}),(0,r.jsx)(i.xu,{children:(0,r.jsxs)(d.aV,{children:[(0,r.jsx)(d.HC,{children:(0,r.jsx)(j(),{href:{pathname:"party",query:{name:"__new"}},children:(0,r.jsx)("a",{children:"新しく作る"})})},"party-new"),n&&n.map((e,n)=>(0,r.jsx)(d.HC,{children:(0,r.jsx)(j(),{href:{pathname:"party",query:{name:e}},children:(0,r.jsx)("a",{children:e})})},"party-".concat(n)))]})})]})};var _=t(2916),m=t(3418),w=t(7935),E=t(5618),b=t(4969),k=t(6973);let v=()=>{let{partyRepository:e,dialogue:n}=(0,p.j)(),[t,s]=(0,a.useState)({name:"",charactors:[]}),i=async()=>{let t=await (0,w.n)(n,e)("取り込むと入力したデータが削除されますがよいですか？");t instanceof u.vW||t instanceof u.ow||t instanceof k.$b||t instanceof b.m||t instanceof k.Xs||t instanceof E.hi||s(t)};return(0,r.jsx)(m.x,{exist:!1,party:t,inoutButton:(0,r.jsx)(_.z,{type:"button",onClick:i,children:"Import"})})},C=e=>{let{partyName:n}=e,{partyRepository:t}=(0,p.j)(),a=(0,f.useLiveQuery)(()=>t.get(n),[n]);return a instanceof b.m||a instanceof k.Xs||a instanceof E.hi||a instanceof k.$b?(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(c.x,{children:a.message}),(0,r.jsx)(j(),{href:{pathname:"party"},children:(0,r.jsx)("a",{children:"戻る"})})]}):a?(0,r.jsx)(m.x,{exist:!0,party:a,inoutButton:(0,r.jsx)(_.z,{type:"button",onClick:()=>t.exportJson(a,""),children:"Export"})}):(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(c.x,{children:"".concat(n,"というpartyは見つかりません")}),(0,r.jsx)(j(),{href:{pathname:"party"},children:(0,r.jsx)("a",{children:"戻る"})})]})};var N=()=>{let e=(0,s.useSearchParams)(),n=e.get("name"),[t,o]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{let e=await (0,x.a)(),n=await (0,h.h4)(e),t=await (0,l.h4)(e);o({partyRepository:n,battleRepository:t})})()},[]),!t)return(0,r.jsx)(i.xu,{children:(0,r.jsx)(c.x,{children:"loading..."})});let j={...t,dialogue:u.OR};return n?"__new"===n?(0,r.jsx)(p._,{io:j,children:(0,r.jsx)(v,{})}):(0,r.jsx)(p._,{io:j,children:(0,r.jsx)(C,{partyName:n})}):(0,r.jsx)(p._,{io:j,children:(0,r.jsx)(y,{})})}}},function(e){e.O(0,[905,154,492,774,888,179],function(){return e(e.s=6698)}),_N_E=e.O()}]);